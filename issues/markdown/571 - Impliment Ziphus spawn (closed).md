**Labels:**

merge ready



<a href="https://github.com/hooksta4"><img src="https://avatars0.githubusercontent.com/u/13935086?v=4" width="96" height="96" hspace="10"></img></a> **Issue by [hooksta4](https://github.com/hooksta4)**
_Saturday May 02, 2020 at 20:06:47_
_Originally opened as: project-topaz/topaz - Issue 571_

----

Updated to Topaz from @Wiggo DSP contribution a few years ago.

<!-- place 'x' mark between square [] brackets to affirm: -->
**_I affirm:_**
- [x] that I agree to Project Topaz's [Limited Contributor License Agreement](http://project-topaz.com/blob/release/CONTRIBUTOR_AGREEMENT.md), as written on this date
- [x] that I've _tested my code_ since the last commit in the PR, and will test after any later commits




----
<a href="https://github.com/hooksta4"><img src="https://avatars0.githubusercontent.com/u/13935086?v=4" width="48" height="48" hspace="10"></img></a> **Comment by [hooksta4](https://github.com/hooksta4)**
_Sunday May 03, 2020 at 20:20:33_

----

KO thanks! I have been working with coco on the side learning how to convert the server variables to local vars. I am testing it out now and should update the commit soon. 

Thanks! 


----
<a href="https://github.com/cocosolos"><img src="https://avatars2.githubusercontent.com/u/2593549?v=4" width="48" height="48" hspace="10"></img></a> **Comment by [cocosolos](https://github.com/cocosolos)**
_Thursday May 14, 2020 at 20:07:55_

----

I went ahead and globalized these functions and cleaned up some style stuff. I also did some retail testing and found that only 1 player can trade to each QM, and only that player can check the trap, so I updated to reflect that as well. I'm pretty sure that Ziphius will always spawn from 1 random trap given that it's been baited, so I changed that as well.


----
<a href="https://github.com/TeoTwawki"><img src="https://avatars0.githubusercontent.com/u/6871475?v=4" width="48" height="48" hspace="10"></img></a> **Comment by [TeoTwawki](https://github.com/TeoTwawki)**
_Thursday May 14, 2020 at 20:33:27_

----

> I went ahead and globalized these functions and cleaned up some style stuff. I also did some retail testing and found that only 1 player can trade to each QM, and only that player can check the trap, so I updated to reflect that as well. I'm pretty sure that Ziphius will always spawn from 1 random trap given that it's been baited, so I changed that as well.

I can confirm Hercules Beetle in Carpenterâ€™s Landing works identically. 


----
<a href="https://github.com/hooksta4"><img src="https://avatars0.githubusercontent.com/u/13935086?v=4" width="48" height="48" hspace="10"></img></a> **Comment by [hooksta4](https://github.com/hooksta4)**
_Thursday May 14, 2020 at 21:09:59_

----

Thanks for squaring all that away. Didnt know what was meant by globalize the functions. Glad someone with a lot more knowledge was able to get it sorted and implemented! 
